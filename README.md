

<div align="center">


  <img src="client/public/images/VODiscovery_w.png" alt="VODiscovery Logo" width="800"/>

  <p><em>ìŠ¤ë§ˆíŠ¸í•œ VOD ì¶”ì²œìœ¼ë¡œ ë‹¹ì‹ ì˜ ì‹œì²­ ê²½í—˜ì„ í˜ì‹ í•©ë‹ˆë‹¤</em></p>
</div>

# VODiscovery: ë§ì¶¤í˜• VOD ì¶”ì²œ í”Œë«í¼ ğŸ¬

## ğŸ“‘ ëª©ì°¨
- [ì†Œê°œ](#-ì†Œê°œ)
- [ì£¼ìš” ê¸°ëŠ¥](#-ì£¼ìš”-ê¸°ëŠ¥)
- [ê¸°ìˆ  ìŠ¤íƒ](#-ê¸°ìˆ -ìŠ¤íƒ)
- [ì‹œì‘í•˜ê¸°](#-ì‹œì‘í•˜ê¸°)
- [í”„ë¡œì íŠ¸ êµ¬ì¡°](#-í”„ë¡œì íŠ¸-êµ¬ì¡°)
- [ìƒì„¸ ê¸°ëŠ¥ ëª…ì„¸](#-ìƒì„¸-ê¸°ëŠ¥-ëª…ì„¸)
- [API ë¬¸ì„œ](#-api-ë¬¸ì„œ)
- [ê°œë°œ ê°€ì´ë“œ](#-ê°œë°œ-ê°€ì´ë“œ)
- [AWS EC2 ë°°í¬ ê°€ì´ë“œ](#-aws-ec2-ë°°í¬-ê°€ì´ë“œ)

## ğŸ“– ì†Œê°œ
VODiscoveryëŠ” ì‚¬ìš©ìì˜ ì‹œì²­ íŒ¨í„´ì„ ë¶„ì„í•˜ì—¬ ê°œì¸í™”ëœ VOD ì½˜í…ì¸ ë¥¼ ì¶”ì²œí•˜ëŠ” ìŠ¤ë§ˆíŠ¸ í”Œë«í¼ì…ë‹ˆë‹¤. TMDB APIì™€ ì—°ë™í•˜ì—¬ í’ë¶€í•œ ì½˜í…ì¸  ì •ë³´ë¥¼ ì œê³µí•˜ë©°, ì‹¤ì‹œê°„ ì¸ê¸° ìˆœìœ„ì™€ ë§ì¶¤í˜• ì¶”ì²œìœ¼ë¡œ ìµœì ì˜ ì‹œì²­ ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.

## ğŸŒŸ ì£¼ìš” ê¸°ëŠ¥

### 1. ì‹¤ì‹œê°„ TOP 20
- ì¸ê¸° VOD ì‹¤ì‹œê°„ ìˆœìœ„ ì œê³µ
- TMDB ì—°ë™ìœ¼ë¡œ í’ë¶€í•œ ì½˜í…ì¸  ì •ë³´ ì œê³µ
- ì§ê´€ì ì¸ ìŠ¬ë¼ì´ë” UI

### 2. ë§ì¶¤í˜• ì¶”ì²œ
- ì‚¬ìš©ì ì‹œì²­ íŒ¨í„´ ê¸°ë°˜ ì¶”ì²œ
- ì¥ë¥´ ì„ í˜¸ë„ ë¶„ì„
- ì¤„ê±°ë¦¬ ê¸°ë°˜ ìœ ì‚¬ ì½˜í…ì¸  ì¶”ì²œ

### 3. ê°œì¸í™” ëŒ€ì‹œë³´ë“œ
- ì‹œì²­ ì´ë ¥ ê´€ë¦¬
- ì¥ë¥´ë³„ ì‹œì²­ í†µê³„
- ì„ í˜¸ ì‹œê°„ëŒ€ ë¶„ì„

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### í”„ë¡ íŠ¸ì—”ë“œ
- ![React](https://img.shields.io/badge/React-61DAFB?style=flat-square&logo=React&logoColor=black)
- ![Vite](https://img.shields.io/badge/Vite-646CFF?style=flat-square&logo=Vite&logoColor=white)
- ![Axios](https://img.shields.io/badge/Axios-5A29E4?style=flat-square&logo=Axios&logoColor=white)

### ë°±ì—”ë“œ
- ![Node.js](https://img.shields.io/badge/Node.js-339933?style=flat-square&logo=Node.js&logoColor=white)
- ![Express](https://img.shields.io/badge/Express-000000?style=flat-square&logo=Express&logoColor=white)
- ![MySQL](https://img.shields.io/badge/MySQL-4479A1?style=flat-square&logo=MySQL&logoColor=white)

## ğŸš€ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
- Node.js 18.0.0 ì´ìƒ
- npm 9.0.0 ì´ìƒ
- MySQL 8.0 ì´ìƒ

### ì„¤ì¹˜ ë° ì‹¤í–‰

1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone [repository-url]
cd team3_web
```

2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
<!-- # .env íŒŒì¼ ìƒì„±
PORT=5001
TMDB_API_KEY=your_api_key
DB_HOST=your_db_host
DB_PORT=3306
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_NAME=your_db_name -->
```

3. ì˜ì¡´ì„± ì„¤ì¹˜ ë° ì‹¤í–‰
```bash
# ì „ì²´ ì˜ì¡´ì„± ì„¤ì¹˜
npm run install-all

# ê°œë°œ ëª¨ë“œ ì‹¤í–‰
npm run dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build
npm start
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```plaintext
team3_web/
â”œâ”€â”€ client/                 # í”„ë¡ íŠ¸ì—”ë“œ (React + Vite)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ Main/     # ë©”ì¸ í˜ì´ì§€ ê´€ë ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ Header/   # í—¤ë” ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â””â”€â”€ Mypage/   # ë§ˆì´í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ App.jsx       # ì•± ë©”ì¸ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ main.jsx      # ì§„ì…ì 
â”œâ”€â”€ server/                # ë°±ì—”ë“œ (Express)
â”‚   â”œâ”€â”€ routes/           # API ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ controllers/      # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ models/          # ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸
â”‚   â””â”€â”€ utils/           # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â””â”€â”€ package.json         # í”„ë¡œì íŠ¸ ì„¤ì •
```

## ğŸ“‹ ìƒì„¸ ê¸°ëŠ¥ ëª…ì„¸

### 1. ë©”ì¸ í˜ì´ì§€
#### 1.1 í—¤ë”
- VODiscovery ë¡œê³  ë° ë©”ì¸ í˜ì´ì§€ ë§í¬
- ì˜í™”, ì˜ˆëŠ¥, ë“œë¼ë§ˆ, í‚¤ì¦ˆ/ì• ë‹ˆ ì¹´í…Œê³ ë¦¬ ë„¤ë¹„ê²Œì´ì…˜
- ë‚ ì”¨ ìœ„ì ¯ í†µí•©
- ê²€ìƒ‰ ë° ë§ˆì´í˜ì´ì§€ ì ‘ê·¼

#### 1.2 ì‹¤ì‹œê°„ TOP 20
- ì‹¤ì‹œê°„ ì¸ê¸° VOD ìˆœìœ„ (1-20ìœ„)
- ìˆœìœ„ë³„ ì°¨ë³„í™”ëœ ë””ìì¸ (1-3ìœ„ íŠ¹ë³„ ìŠ¤íƒ€ì¼)
- TMDB ì—°ë™ í¬ìŠ¤í„° ë° ìƒì„¸ ì •ë³´
- ë°˜ì‘í˜• ìŠ¬ë¼ì´ë” êµ¬í˜„

#### 1.3 ë§ì¶¤í˜• ì¶”ì²œ
- ì‹ ê·œ ì½˜í…ì¸  ì„¹ì…˜
- ìœ ì‚¬ ì‚¬ìš©ì ê¸°ë°˜ ì¶”ì²œ
- ì¤„ê±°ë¦¬ ê¸°ë°˜ ì¶”ì²œ
- ì„ í˜¸ ì¥ë¥´ ê¸°ë°˜ ì¶”ì²œ

### 2. ë§ˆì´í˜ì´ì§€
#### 2.1 ì‚¬ìš©ì ì •ë³´
- í”„ë¡œí•„ ì •ë³´ í‘œì‹œ
- êµ¬ë… ìƒíƒœ ê´€ë¦¬
- ì…‹í†±ë°•ìŠ¤ ì •ë³´

#### 2.2 ì‹œì²­ ë¶„ì„
- ì¥ë¥´ë³„ ì‹œì²­ ë¹„ìœ¨ ì°¨íŠ¸
- ì„ í˜¸ ì‹œì²­ ì‹œê°„ëŒ€ ë¶„ì„
- ìƒì„¸ ì‹œì²­ ì´ë ¥

### 3. ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°
#### 3.1 ì£¼ìš” í…Œì´ë¸”
- users: ì‚¬ìš©ì ê¸°ë³¸ ì •ë³´
- user_based_top20: ì¶”ì²œ VOD
- vod_movie_rank_04_01: VOD ìˆœìœ„
- user_viewing_patterns: ì‹œì²­ íŒ¨í„´

#### 3.2 ë°ì´í„° ë³´ì•ˆ
- JWT ê¸°ë°˜ ì¸ì¦ (14ì¼ ìœ íš¨)
- SHA2 í•´ì‹œ ì•”í˜¸í™”
- í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬

## ğŸ“š API ë¬¸ì„œ

### ì¸ì¦ API
- `POST /api/auth/login`: ì‚¬ìš©ì ë¡œê·¸ì¸
- `GET /api/auth/verify`: í† í° ê²€ì¦

### ì½˜í…ì¸  API
- `GET /api/contents/top20`: ì‹¤ì‹œê°„ TOP 20 ì¡°íšŒ
- `GET /api/contents/recommend`: ë§ì¶¤ ì¶”ì²œ ì½˜í…ì¸ 
- `GET /api/contents/similar`: ìœ ì‚¬ ì½˜í…ì¸  ì¶”ì²œ

### ì‚¬ìš©ì API
- `GET /api/user/history`: ì‹œì²­ ì´ë ¥ ì¡°íšŒ
- `GET /api/user/stats`: ì‹œì²­ í†µê³„ ì¡°íšŒ

## ğŸ’» ê°œë°œ ê°€ì´ë“œ

### ì½”ë“œ ì»¨ë²¤ì…˜
- ESLintì™€ Prettier ì„¤ì • ì¤€ìˆ˜
- ì»´í¬ë„ŒíŠ¸ëŠ” ê¸°ëŠ¥ë³„ë¡œ ë¶„ë¦¬
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ëŠ” common í´ë”ì— ìœ„ì¹˜

### Git ì›Œí¬í”Œë¡œìš°
1. feature/ ë¸Œëœì¹˜ì—ì„œ ê°œë°œ
2. develop ë¸Œëœì¹˜ë¡œ PR ìƒì„±
3. ì½”ë“œ ë¦¬ë·° í›„ ë¨¸ì§€

### ëª…ëª… ê·œì¹™
- ì»´í¬ë„ŒíŠ¸: PascalCase
- í•¨ìˆ˜/ë³€ìˆ˜: camelCase
- ìƒìˆ˜: UPPER_SNAKE_CASE

## ğŸš€ AWS EC2 ë°°í¬ ê°€ì´ë“œ

### 1. EC2 ì¸ìŠ¤í„´ìŠ¤ ì„¤ì •
1. AWS ì½˜ì†”ì—ì„œ EC2 ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
   ```bash
   # ì¸ìŠ¤í„´ìŠ¤ íƒ€ì… ì¶”ì²œ
   t2.micro (í”„ë¦¬í‹°ì–´) ë˜ëŠ” t2.small
   
   # ìš´ì˜ì²´ì œ
   Ubuntu Server 22.04 LTS
   ```

2. ë³´ì•ˆ ê·¸ë£¹ ì„¤ì •
   ```bash
   # ì¸ë°”ìš´ë“œ ê·œì¹™
   - SSH (22): ë‚´ IP
   - HTTP (80): ëª¨ë“  ê³³
   - HTTPS (443): ëª¨ë“  ê³³
   - Custom TCP (5001): ëª¨ë“  ê³³ # ë°±ì—”ë“œ ì„œë²„ í¬íŠ¸
   - Custom TCP (5173): ëª¨ë“  ê³³ # Vite ê°œë°œ ì„œë²„ í¬íŠ¸
   ```

### 2. ì„œë²„ ì´ˆê¸° ì„¤ì •
```bash
# ì„œë²„ ì ‘ì†
ssh -i your-key.pem ubuntu@your-ec2-ip

# ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸
sudo apt update
sudo apt upgrade -y

# Node.js ì„¤ì¹˜ (18.x ë²„ì „)
curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
sudo apt install -y nodejs

# MySQL ì„¤ì¹˜
sudo apt install mysql-server -y
sudo systemctl start mysql
sudo systemctl enable mysql

# Git ì„¤ì¹˜
sudo apt install git -y

# PM2 ì„¤ì¹˜ (í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬)
sudo npm install -g pm2
```

### 3. í”„ë¡œì íŠ¸ ë°°í¬
```bash
# í”„ë¡œì íŠ¸ í´ë¡ 
git clone https://github.com/jamiechoi96/team3_web.git
cd team3_web

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
nano .env  # í™˜ê²½ ë³€ìˆ˜ ìˆ˜ì •

# ì˜ì¡´ì„± ì„¤ì¹˜
npm run install-all

# í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ
cd client
npm run build
cd ..

# PM2ë¡œ ì„œë²„ ì‹¤í–‰
pm2 start server.js --name "vod-server"
```

### 4. Nginx ì„¤ì •
```bash
# Nginx ì„¤ì¹˜
sudo apt install nginx -y

# Nginx ì„¤ì •
sudo nano /etc/nginx/sites-available/vod-discovery

# ì•„ë˜ ë‚´ìš© ì¶”ê°€
server {
    listen 80;
    server_name your-domain.com;  # ë„ë©”ì¸ì´ ìˆëŠ” ê²½ìš° ì„¤ì •

    # í”„ë¡ íŠ¸ì—”ë“œ (ë¹Œë“œëœ íŒŒì¼ ì œê³µ)
    location / {
        root /home/ubuntu/team3_web/client/dist;
        try_files $uri $uri/ /index.html;
    }

    # ë°±ì—”ë“œ API
    location /api {
        proxy_pass http://localhost:5001;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
    }
}

# ì„¤ì • í™œì„±í™”
sudo ln -s /etc/nginx/sites-available/vod-discovery /etc/nginx/sites-enabled/
sudo nginx -t  # ì„¤ì • í…ŒìŠ¤íŠ¸
sudo systemctl restart nginx
```

### 5. SSL ì„¤ì • (ì„ íƒì‚¬í•­)
```bash
# Certbot ì„¤ì¹˜
sudo snap install --classic certbot
sudo ln -s /snap/bin/certbot /usr/bin/certbot

# SSL ì¸ì¦ì„œ ë°œê¸‰
sudo certbot --nginx -d your-domain.com
```

### 6. ëª¨ë‹ˆí„°ë§ ë° ë¡œê·¸ í™•ì¸
```bash
# PM2 ìƒíƒœ í™•ì¸
pm2 status
pm2 logs vod-server

# Nginx ë¡œê·¸ í™•ì¸
sudo tail -f /var/log/nginx/access.log
sudo tail -f /var/log/nginx/error.log
```

### 7. ìë™ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ (deploy.sh)
```bash
#!/bin/bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì— deploy.sh ìƒì„±

git pull
npm run install-all
cd client
npm run build
cd ..
pm2 restart vod-server
```

### 8. ë¬¸ì œ í•´ê²°
- í¬íŠ¸ ì¶©ëŒ: `sudo netstat -tulpn | grep LISTEN`
- í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ: `pm2 delete vod-server`
- Nginx ì¬ì‹œì‘: `sudo systemctl restart nginx`
- ë¡œê·¸ í™•ì¸: `pm2 logs vod-server --lines 100`

---

## ğŸ‘¥ íŒ€ì›
- íŒ€ì› 1: í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ
- íŒ€ì› 2: ë°±ì—”ë“œ ê°œë°œ ë° ì›¹ ë””ìì¸
- íŒ€ì› 3: DB êµ¬ì¶• ë° ë°ì´í„° ë¶„ì„

## ğŸ“ ë¼ì´ì„ ìŠ¤
ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„ ìŠ¤ë¥¼ ë”°ë¦…ë‹ˆë‹¤.
